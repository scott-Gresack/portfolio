<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Compare Adobe Web SDK u.map objects across environments to align XDM mappings." />
  <meta name="keywords" content="Martech, Adobe Experience Platform, AEP, Tealium iQ, GTM, Data Governance, Tag Management, GA4, Analytics, Attribution" />
  <meta name="author" content="Scott Gresack" />
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <meta name="robots" content="index, follow" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Adobe Web SDK u.map Comparator | Scott Gresack" />
  <meta property="og:description" content="Compare u.map objects from Adobe Web SDK implementations across environments. Built for Tealium and AEP validation workflows." />
  <meta property="og:url" content="https://scott-gresack.github.io/portfolio/xdm_comparator" />
  <meta property="og:image" content="https://scott-gresack.github.io/portfolio/assets/preview-image.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Adobe Web SDK u.map Comparator | Scott Gresack" />
  <meta name="twitter:description" content="Compare Adobe Web SDK objects and debug XDM mappings with this interactive tool." />
  <meta name="twitter:image" content="https://scott-gresack.github.io/portfolio/assets/preview-image.png" />
  <title>Adobe Web SDK Object Comparator</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-MQBSZT8H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-MQBSZT8H');
</script>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Adobe Web SDK u.map Comparator",
    "url": "https://scott-gresack.github.io/portfolio/xdm_comparator",
    "description": "Compare and debug Adobe Web SDK u.map object mappings with a visual comparator tool.",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "All",
    "creator": {
      "@type": "Person",
      "name": "Scott Gresack",
      "url": "https://scott-gresack.github.io/portfolio/"
    }
  }
  </script>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 text-gray-800 font-sans antialiased leading-relaxed tracking-wide">
  <header class="bg-white shadow border-b sticky top-0 z-50">
    <nav class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center text-sm font-medium text-gray-800">
      <a href="https://scott-gresack.github.io/portfolio/?utm_medium=internal&utm_source=xdm_comparator&cid=home&utm_term=portfolio" class="font-semibold tracking-wide text-lg hover:text-blue-600 transition">üîç u.map Comparator</a>
      <div x-data="{ open: false }" class="relative">
        <button @click="open = !open" class="hover:text-blue-600 transition font-medium focus:outline-none">Tools ‚ñæ</button>
        <div x-show="open" x-transition @click.away="open = false" class="absolute bg-white shadow-lg rounded-md mt-2 z-50 min-w-[220px] border border-gray-200">
          <a href="https://scott-gresack.github.io/portfolio/tool2.html?utm_medium=internal&utm_source=xdm_comparator&cid=tool2&utm_term=alloy_inspector" class="block px-4 py-2 text-sm text-gray-800 hover:bg-blue-50">Alloy Inspector</a>
          <a href="https://scott-gresack.github.io/portfolio/tag_generator?utm_medium=internal&utm_source=xdm_comparator&cid=tag_generator&utm_term=tag_spec" class="block px-4 py-2 text-sm text-gray-800 hover:bg-blue-50">Tag Generator</a>
          <a href="https://scott-gresack.github.io/portfolio/mobile_updates?utm_medium=internal&utm_source=xdm_comparator&cid=mobile_updates&utm_term=mobile_sdk" class="block px-4 py-2 text-sm text-gray-800 hover:bg-blue-50">Mobile Updates</a>
          <a href="https://scott-gresack.github.io/portfolio/xdm_comparator?utm_medium=internal&utm_source=xdm_comparator&cid=xdm_comparator&utm_term=xdm" class="block px-4 py-2 text-sm text-gray-800 hover:bg-blue-50">XDM Comparator</a>
        </div>
      </div>
    </nav>
  </header>

  <main id="app" class="max-w-4xl mx-auto px-6 py-12">
    <section class="bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl shadow-lg p-6 mb-10">
      <h1 class="text-2xl font-semibold text-blue-700 mb-4">üß™ Adobe Web SDK u.map Comparator</h1>
      <p class="text-xs text-gray-500 mt-1">
        üß† <strong>Why use this tool?</strong> Designed for engineers validating <code>u.map</code> schemas in Adobe Web SDK. Especially useful when QA'ing Tealium iQ tag templates or ensuring XDM consistency across environments.
      </p>
      <p class="text-sm mb-2">Compare Adobe Web SDK <code>u.map</code> objects across environments like Prod vs. Stage.</p>
      <p class="text-blue-700 text-sm">üÜò Paste your JSON objects below and click Compare.</p>
    </section>

    <section class="bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl shadow-lg p-6 mb-10">
      <p><strong>Welcome!</strong> This tool helps you compare <code>u.map</code> objects from Adobe Web SDK implementations. Whether you're debugging, validating, or aligning configurations across environments (e.g., Prod vs. Stage), this comparator highlights differences and matches to ensure accurate XDM mappings.</p>
      <p><a href="https://experienceleague.adobe.com/docs/experience-platform/edge/fundamentals/xdm.html" target="_blank" class="text-blue-600 underline">Learn More about XDM and AEP</a></p>
    </section>

    <section class="bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl shadow-lg p-6 mb-10">
      <h2 class="text-xl font-semibold mb-4">üõ† How to Use This Tool</h2>
      <ol class="list-decimal list-inside space-y-1 text-sm">
        <li><strong>Describe Your Comparison:</strong> Label your analysis (e.g., "Prod vs Stage").</li>
        <li><strong>Paste Object A:</strong> Input the first <code>u.map</code> object.</li>
        <li><strong>Paste Object B:</strong> Input the second <code>u.map</code> object.</li>
        <li><strong>Compare:</strong> Click to analyze.</li>
        <li><strong>Review Results:</strong> See summary and detailed table.</li>
      </ol>
      <p class="text-sm mt-4 text-blue-700">
        ‚úÖ Use this to validate whether <code>utag.view()</code>/<code>utag.link()</code> tags match expected XDM structure, helping you debug personalization issues, analytics misfires, or journey orchestration inconsistencies.
      </p>
    </section>

    <section class="bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl shadow-lg p-6 mb-10">
      <h2 class="text-xl font-semibold mb-4">üìù Paste Objects for Comparison</h2>
      <div class="space-y-6">
        <div>
          <label class="block font-semibold mb-1">1. Describe the comparison:</label>
          <input type="text" v-model="comparisonLabel" placeholder="e.g., Comparing Prod vs Stage" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block font-semibold mb-1">2. Paste Object A (JSON):</label>
            <textarea v-model="objectAInput" rows="10" placeholder="Paste full u.map = { ... };" class="w-full p-4 border border-gray-300 rounded-lg resize-y focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
          </div>
          <div>
            <label class="block font-semibold mb-1">3. Paste Object B (JSON):</label>
            <textarea v-model="objectBInput" rows="10" placeholder="Paste full u.map = { ... };" class="w-full p-4 border border-gray-300 rounded-lg resize-y focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
          </div>
        </div>
        <button @click="compare" class="mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition focus:outline-none focus:ring-2 focus:ring-blue-500" aria-label="Run Comparison">Compare</button>
      </div>

      <div v-if="errorMessage" class="mt-6 p-4 bg-red-50 border border-red-300 text-red-700 rounded">
        <strong>Error:</strong> {{ errorMessage }}
      </div>
    </section>

    <section v-if="compared" class="results-section">
      <div class="rounded-xl border border-gray-200 bg-white shadow-sm p-4">
        <h2 class="text-xl font-semibold text-blue-800 mb-2">üìä Comparison Results</h2>
        <div class="p-4 bg-green-50 border border-green-300 rounded mb-6">
          <h2 class="font-semibold text-green-800 mb-1">üéâ Quick Comparison Snapshot</h2>
          <p class="text-sm"><strong>Total Differences:</strong> {{ totalDifferences }}</p>
          <p class="text-sm"><strong>Similarities:</strong> {{ matchingValues.length }}</p>
          <p class="text-sm text-gray-700">{{ summaryMessage }}</p>
        </div>
        <table class="min-w-full border border-gray-300 rounded overflow-hidden">
          <thead class="bg-blue-600 text-white">
            <tr>
              <th class="px-4 py-2 text-left">Key</th>
              <th class="px-4 py-2 text-left">Value in A</th>
              <th class="px-4 py-2 text-left">Value in B</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="key in allKeys" :key="key" :class="[
              'odd:bg-white even:bg-gray-50',
              differingValues.includes(key) ? 'bg-red-50 border-l-4 border-red-500' : ''
            ]">
              <td class="px-4 py-2 border-t border-gray-200">{{ key }}</td>
              <td class="px-4 py-2 border-t border-gray-200">{{ objectA[key] ?? '‚Äî' }}</td>
              <td class="px-4 py-2 border-t border-gray-200">{{ objectB[key] ?? '‚Äî' }}</td>
            </tr>
          </tbody>
        </table>
        <button @click="exportAsJSON" class="mt-4 px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm">‚¨á Export Results</button>
      </div>
    </section>

    <footer class="text-center text-xs text-gray-400 mt-12 mb-8">
      Built with ‚ù§Ô∏è by Scott Gresack ¬∑ <a href="https://scott-gresack.github.io/portfolio/" class="text-blue-600 hover:underline">View Portfolio</a>
    </footer>
  </main>

<script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
<script>
const { createApp } = Vue;

createApp({
  data() {
    return {
      comparisonLabel: '',
      objectAInput: '',
      objectBInput: '',
      errorMessage: '',
      compared: false,
      objectA: {},
      objectB: {},
      onlyInA: [],
      onlyInB: [],
      differingValues: [],
      matchingValues: [],
      allKeys: []
    };
  },
  computed: {
    totalDifferences() {
      return this.onlyInA.length + this.onlyInB.length + this.differingValues.length;
    },
    summaryMessage() {
      if (!this.compared) return '';
      if (this.totalDifferences === 0) return "üéâ Perfect match! Both u.map objects are identical.";
      return "‚ö†Ô∏è Differences detected. Review the details to resolve mismatches.";
    }
  },
  methods: {
    cleanAndParse(input, type) {
      if (!input.trim()) throw new Error(`${type} is empty. Please provide valid JSON.`);
      const match = input.match(/\{[\s\S]*\}/);
      if (!match) throw new Error(`Invalid JSON format for ${type}. Ensure it contains a valid object.`);
      try {
        return JSON.parse(match[0]);
      } catch {
        throw new Error(`Failed to parse JSON for ${type}. Please check the syntax.`);
      }
    },
    compare() {
      try {
        this.errorMessage = '';
        this.compared = false;
        this.objectA = this.cleanAndParse(this.objectAInput, 'Object A');
        this.objectB = this.cleanAndParse(this.objectBInput, 'Object B');
        this.allKeys = [...new Set([...Object.keys(this.objectA), ...Object.keys(this.objectB)])];
        this.onlyInA = this.allKeys.filter(key => !(key in this.objectB));
        this.onlyInB = this.allKeys.filter(key => !(key in this.objectA));
        this.differingValues = this.allKeys.filter(key => this.objectA[key] !== this.objectB[key] && key in this.objectA && key in this.objectB);
        this.matchingValues = this.allKeys.filter(key => this.objectA[key] === this.objectB[key]);
        this.compared = true;
      } catch (err) {
        this.errorMessage = err.message;
      }
    },
    exportAsJSON() {
      const data = {
        label: this.comparisonLabel,
        differences: this.differingValues.map(k => ({ key: k, a: this.objectA[k], b: this.objectB[k] })),
        matches: this.matchingValues,
        onlyInA: this.onlyInA,
        onlyInB: this.onlyInB
      };
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `${this.comparisonLabel || 'comparison'}.json`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  }
}).mount('#app');
</script>

</body>
</html>
